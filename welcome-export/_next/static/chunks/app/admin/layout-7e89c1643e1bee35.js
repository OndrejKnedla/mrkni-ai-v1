(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7581],{18:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(1018).A)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},1100:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(1018).A)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]])},1888:(e,t,r)=>{"use strict";r.d(t,{A:()=>c,AuthProvider:()=>a});var n=r(8081),s=r(2149),i=r(4134);let o=(0,s.createContext)(void 0);function a(e){let{children:t}=e,[r,a]=(0,s.useState)(null),[c,l]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(async()=>{try{let{data:{session:e}}=await i.N.auth.getSession();a((null==e?void 0:e.user)||null)}catch(e){console.error("Error checking session:",e)}finally{l(!1)}})();let{data:{subscription:e}}=i.N.auth.onAuthStateChange((e,t)=>{a((null==t?void 0:t.user)||null)});return()=>{e.unsubscribe()}},[]);let u=async()=>{try{console.log("Starting Google sign-in process...");let e="".concat(window.location.protocol,"//").concat(window.location.host);console.log("Using base URL for redirect: ".concat(e));let{data:t,error:r}=await i.N.auth.signInWithOAuth({provider:"google",options:{redirectTo:"".concat(e,"/auth/callback"),queryParams:{access_type:"offline",prompt:"consent"},scopes:"email profile"}});if(r)throw console.error("Google sign-in error:",r),r;console.log("Sign in initiated successfully, redirecting to Google",t)}catch(e){throw console.error("Error in signInWithGoogle:",e),e}},d=async(e,t)=>{let{error:r}=await i.N.auth.signInWithPassword({email:e,password:t});if(r)throw r},h=async(e,t)=>{let{error:r}=await i.N.auth.signUp({email:e,password:t});if(r)throw r},f=async()=>{let{error:e}=await i.N.auth.signOut();if(e)throw e};return(0,n.jsx)(o.Provider,{value:{user:r,loading:c,signInWithGoogle:u,signIn:d,signUp:h,signOut:f},children:t})}let c=()=>{let e=(0,s.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e}},2320:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(1018).A)("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]])},3849:(e,t,r)=>{"use strict";var n,s;e.exports=(null==(n=r.g.process)?void 0:n.env)&&"object"==typeof(null==(s=r.g.process)?void 0:s.env)?r.g.process:r(9798)},4134:(e,t,r)=>{"use strict";r.d(t,{N:()=>n});let n=(0,r(5331).createBrowserClient)("https://akqpnxofeitmzittndll.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFrcXBueG9mZWl0bXppdHRuZGxsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDQxMzcxMjYsImV4cCI6MjA1OTcxMzEyNn0.vVH5D_odlSVOCOZ3BHfkxbDvhuOd_S3e05bQHqUR_pc",{})},4582:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var n=r(8081),s=r(1888),i=r(2149),o=r(9651),a=r(7950),c=r.n(a),l=r(18),u=r(1100),d=r(7188),h=r(2320),f=r(5160),m=r(3849);function p(e){let{children:t}=e,{user:r,loading:a}=(0,s.A)(),p=(0,o.useRouter)(),[v,g]=(0,i.useState)(!1);return((0,i.useEffect)(()=>{let e=async()=>{if(!r){p.push("/");return}let e=(m.env.NEXT_PUBLIC_ADMIN_EMAILS||"").split(",").map(e=>e.trim());r.email&&e.includes(r.email)?g(!0):p.push("/")};a||e()},[r,a,p]),a)?(0,n.jsx)("div",{className:"container mx-auto px-4 py-8 flex items-center justify-center min-h-[60vh]",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"h-12 w-12 animate-spin mx-auto border-4 border-primary border-t-transparent rounded-full"}),(0,n.jsx)("p",{className:"mt-4 text-white drop-shadow-md",children:"Loading..."})]})}):v?(0,n.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,n.jsxs)("div",{className:"mb-8",children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-white drop-shadow-md mb-4",children:"Admin Dashboard"}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,n.jsx)(f.$,{asChild:!0,variant:"outline",className:"bg-black/20 border-white/10 text-white hover:bg-white/10",children:(0,n.jsxs)(c(),{href:"/admin/users",children:[(0,n.jsx)(l.A,{className:"mr-2 h-4 w-4"}),"Manage Users"]})}),(0,n.jsx)(f.$,{asChild:!0,variant:"outline",className:"bg-black/20 border-white/10 text-white hover:bg-white/10",children:(0,n.jsxs)(c(),{href:"/admin/credits",children:[(0,n.jsx)(u.A,{className:"mr-2 h-4 w-4"}),"Manage Credits"]})}),(0,n.jsx)(f.$,{asChild:!0,variant:"outline",className:"bg-black/20 border-white/10 text-white hover:bg-white/10",children:(0,n.jsxs)(c(),{href:"/admin/interested-users",children:[(0,n.jsx)(d.A,{className:"mr-2 h-4 w-4"}),"Launch Registrations"]})}),(0,n.jsx)(f.$,{asChild:!0,variant:"outline",className:"bg-black/20 border-white/10 text-white hover:bg-white/10",children:(0,n.jsxs)(c(),{href:"/api/admin/create-tables",children:[(0,n.jsx)(h.A,{className:"mr-2 h-4 w-4"}),"Create Tables"]})})]})]}),t]}):null}},5160:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var n=r(8081),s=r(2149),i=r(244),o=r(3484),a=r(7687);let c=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=s.forwardRef((e,t)=>{let{className:r,variant:s,size:o,asChild:l=!1,...u}=e,d=l?i.DX:"button";return(0,n.jsx)(d,{className:(0,a.cn)(c({variant:s,size:o,className:r})),ref:t,...u})});l.displayName="Button"},6836:(e,t,r)=>{Promise.resolve().then(r.bind(r,4582))},7188:(e,t,r)=>{"use strict";r.d(t,{A:()=>n});let n=(0,r(1018).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7687:(e,t,r)=>{"use strict";r.d(t,{cn:()=>i});var n=r(6522),s=r(4483);function i(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,n.$)(t))}},9651:(e,t,r)=>{"use strict";var n=r(4571);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}}),r.o(n,"useSearchParams")&&r.d(t,{useSearchParams:function(){return n.useSearchParams}})},9798:e=>{!function(){var t={229:function(e){var t,r,n,s=e.exports={};function i(){throw Error("setTimeout has not been defined")}function o(){throw Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}}();var c=[],l=!1,u=-1;function d(){l&&n&&(l=!1,n.length?c=n.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=a(d);l=!0;for(var t=c.length;t;){for(n=c,c=[];++u<t;)n&&n[u].run();u=-1,t=c.length}n=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function m(){}s.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new f(e,t)),1!==c.length||l||a(h)},f.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=m,s.addListener=m,s.once=m,s.off=m,s.removeListener=m,s.removeAllListeners=m,s.emit=m,s.prependListener=m,s.prependOnceListener=m,s.listeners=function(e){return[]},s.binding=function(e){throw Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw Error("process.chdir is not supported")},s.umask=function(){return 0}}},r={};function n(e){var s=r[e];if(void 0!==s)return s.exports;var i=r[e]={exports:{}},o=!0;try{t[e](i,i.exports,n),o=!1}finally{o&&delete r[e]}return i.exports}n.ab="//",e.exports=n(229)}()}},e=>{var t=t=>e(e.s=t);e.O(0,[1144,928,7950,497,954,7358],()=>t(6836)),_N_E=e.O()}]);